(()=>{function e(e,t,n,r,o,c,a){try{var i=e[c](a),d=i.value}catch(e){return void n(e)}i.done?t(d):Promise.resolve(d).then(r,o)}function t(t){return function(){var n=this,r=arguments;return new Promise((function(o,c){var a=t.apply(n,r);function i(t){e(a,o,c,i,d,"next",t)}function d(t){e(a,o,c,i,d,"throw",t)}i(void 0)}))}}var n,r,o,c=document.querySelector(".recordvideo"),a=document.querySelector(".recordbtn"),i=document.querySelector(".downloadbtn"),d=!1,u=function(e,t){var n=document.createElement("a");n.download=t,n.href=e,document.body.appendChild(n),e.revokeObjectURL(e),n.click()},s=function(){var e=t(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(o,"sample.mp4"),a.disabled=!1,i.removeEventListener("click",s),i.disabled=!0,a.textContent="StartRecording",l();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();a.addEventListener("click",(function(e){!1===d?(d=!0,a.textContent="StopRecording",(r=new MediaRecorder(n,{MimeType:"video/mp4"})).ondataavailable=function(e){o=URL.createObjectURL(e.data),c.srcObject=null,c.src=o,c.loop=!0,c.play()},r.start()):(r.stop(),d=!1,a.disabled=!0,i.disabled=!1,i.addEventListener("click",s))}));var l=function(){var e=t(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.disabled=!0,e.next=3,navigator.mediaDevices.getUserMedia({video:!0,Audio:!0});case 3:n=e.sent,c.srcObject=n,c.play();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();l()})();